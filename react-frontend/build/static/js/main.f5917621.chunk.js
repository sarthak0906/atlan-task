(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},22:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(3),l=n.n(a),c=n(14),o=n(2),u=n(0),r=n.n(u),s=n(15),i=function(e){var t=e.name;return r.a.createElement("h1",null,"Hello ",t,"!")},f=(n(22),n(4)),m=n.n(f),h=function(e){var t=r.a.useState(null),n=Object(o.a)(t,2),a=n[0],u=n[1],s=r.a.useState(0),f=Object(o.a)(s,2),h=f[0],p=f[1],b=r.a.useState(0),d=Object(o.a)(b,2),g=d[0],E=d[1],v=r.a.useState(0),j=Object(o.a)(v,2),O=(j[0],j[1]),S=r.a.useState(0),y=Object(o.a)(S,2),k=y[0],w=y[1],A=r.a.useState(!1),C=Object(o.a)(A,2),M=C[0],I=C[1],x=r.a.useState(Math.random()),B=Object(o.a)(x,2),J=B[0],R=B[1],F=new FileReader;r.a.useEffect((function(){console.log(a),a&&(F.readAsArrayBuffer(a),F.onload=function(){F.result;O(F.result),w(new Uint8Array(F.result))})}),[a]),r.a.useEffect((function(){var e=setInterval(Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(h+1),t=-1,a&&(t=Math.min(g+900,k.length)),console.log(t),g<t&&!M?(m.a.post("http://localhost:8000/pauseable",{name:a.name,start:g,file:k.subarray(g,t)}).then((function(e){console.log(e),E(t)})).catch((function(e){return console.log(e)})),console.log({name:a.name,start:g,file:k.subarray(g,t)})):g==t&&(alert("file upload complete"),u(null),E(0),O(null),w(null),R(Math.random()));case 5:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearInterval(e)}}),[g,h,a]);return r.a.useEffect((function(){console.log(M)}),[M]),r.a.createElement("div",null,r.a.createElement(i,{name:"Atlan"}),r.a.createElement("p",null,"Select a file to see the magic ;)"),r.a.createElement("input",{type:"file",onChange:function(e){u(e.target.files[0])},key:J}),a?r.a.createElement("div",null,r.a.createElement("button",{name:"pause",onClick:function(){I(!M)}}," ",M?"Resume":"Pause"," "),r.a.createElement("button",{onClick:function(){m.a.get("http://localhost:8000/cancel/"+a.name).then((function(){alert("file upload canceled"),u(null),E(0),O(null),w(null),R(Math.random())})).catch((function(e){console.log(e)}))}}," Cancel ")):"")};Object(s.render)(r.a.createElement(h,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f5917621.chunk.js.map